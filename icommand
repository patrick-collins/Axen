#!/usr/local/bin/python

# Import modules.
import argparse
import time

# Define variables.
command_file = '/var/spool/icinga/rw/icinga.cmd'

# Get command line arguments.
parser = argparse.ArgumentParser(description='Write to the icinga command file.')
group = parser.add_mutually_exclusive_group()
group.add_argument('--host', action='store_true')
group.add_argument('--service', action='store_true')
parser.add_argument('--target', action='store')
parser.add_argument('--result', action='store')
parser.add_argument('--data', action='store')
args = parser.parse_args()

# Get the current time in unix seconds.
seconds = int(time.time())

# Format and print the command.
command = '[' + seconds + ']'
print command

# Write the data to the icinga command file.